{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SED/Desktop/eden-video/app/image/page.js"],"sourcesContent":["'use client'\r\nimport React from 'react'\r\nimport Image from 'next/image'\r\nimport { useState } from 'react'\r\n\r\nconst Page = () => {\r\n  const [prompt, setPrompt] = useState('')\r\n  const [image, setImage] = useState(null)\r\n  const [isGenerating, setIsGenerating] = useState(false)\r\n  const [error, setError] = useState(null)\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    setIsGenerating(true)\r\n    setError(null)\r\n    \r\n    try {\r\n      // Load the base workflow\r\n      const baseWorkflow = {\r\n        \"6\": {\r\n          \"inputs\": {\r\n            \"text\": prompt,\r\n            \"clip\": [\"11\", 0]\r\n          },\r\n          \"class_type\": \"CLIPTextEncode\",\r\n          \"_meta\": {\r\n            \"title\": \"CLIP Text Encode (Positive Prompt)\"\r\n          }\r\n        },\r\n        \"8\": {\r\n          \"inputs\": {\r\n            \"samples\": [\"13\", 0],\r\n            \"vae\": [\"10\", 0]\r\n          },\r\n          \"class_type\": \"VAEDecode\",\r\n          \"_meta\": {\r\n            \"title\": \"VAE Decode\"\r\n          }\r\n        },\r\n        \"9\": {\r\n          \"inputs\": {\r\n            \"filename_prefix\": \"ComfyUI\",\r\n            \"images\": [\"8\", 0]\r\n          },\r\n          \"class_type\": \"SaveImage\",\r\n          \"_meta\": {\r\n            \"title\": \"Save Image\"\r\n          }\r\n        },\r\n        \"10\": {\r\n          \"inputs\": {\r\n            \"vae_name\": \"ae.safetensors\"\r\n          },\r\n          \"class_type\": \"VAELoader\",\r\n          \"_meta\": {\r\n            \"title\": \"Load VAE\"\r\n          }\r\n        },\r\n        \"11\": {\r\n          \"inputs\": {\r\n            \"clip_name1\": \"t5xxl_fp8_e4m3fn.safetensors\",\r\n            \"clip_name2\": \"clip_l.safetensors\",\r\n            \"type\": \"flux\",\r\n            \"device\": \"default\"\r\n          },\r\n          \"class_type\": \"DualCLIPLoader\",\r\n          \"_meta\": {\r\n            \"title\": \"DualCLIPLoader\"\r\n          }\r\n        },\r\n        \"12\": {\r\n          \"inputs\": {\r\n            \"unet_name\": \"flux1-dev.safetensors\",\r\n            \"weight_dtype\": \"default\"\r\n          },\r\n          \"class_type\": \"UNETLoader\",\r\n          \"_meta\": {\r\n            \"title\": \"Load Diffusion Model\"\r\n          }\r\n        },\r\n        \"13\": {\r\n          \"inputs\": {\r\n            \"noise\": [\"25\", 0],\r\n            \"guider\": [\"22\", 0],\r\n            \"sampler\": [\"16\", 0],\r\n            \"sigmas\": [\"17\", 0],\r\n            \"latent_image\": [\"27\", 0]\r\n          },\r\n          \"class_type\": \"SamplerCustomAdvanced\",\r\n          \"_meta\": {\r\n            \"title\": \"SamplerCustomAdvanced\"\r\n          }\r\n        },\r\n        \"16\": {\r\n          \"inputs\": {\r\n            \"sampler_name\": \"euler\"\r\n          },\r\n          \"class_type\": \"KSamplerSelect\",\r\n          \"_meta\": {\r\n            \"title\": \"KSamplerSelect\"\r\n          }\r\n        },\r\n        \"17\": {\r\n          \"inputs\": {\r\n            \"scheduler\": \"simple\",\r\n            \"steps\": 20,\r\n            \"denoise\": 1,\r\n            \"model\": [\"30\", 0]\r\n          },\r\n          \"class_type\": \"BasicScheduler\",\r\n          \"_meta\": {\r\n            \"title\": \"BasicScheduler\"\r\n          }\r\n        },\r\n        \"22\": {\r\n          \"inputs\": {\r\n            \"model\": [\"30\", 0],\r\n            \"conditioning\": [\"26\", 0]\r\n          },\r\n          \"class_type\": \"BasicGuider\",\r\n          \"_meta\": {\r\n            \"title\": \"BasicGuider\"\r\n          }\r\n        },\r\n        \"25\": {\r\n          \"inputs\": {\r\n            \"noise_seed\": Math.floor(Math.random() * 1000000)\r\n          },\r\n          \"class_type\": \"RandomNoise\",\r\n          \"_meta\": {\r\n            \"title\": \"RandomNoise\"\r\n          }\r\n        },\r\n        \"26\": {\r\n          \"inputs\": {\r\n            \"guidance\": 3.5,\r\n            \"conditioning\": [\"6\", 0]\r\n          },\r\n          \"class_type\": \"FluxGuidance\",\r\n          \"_meta\": {\r\n            \"title\": \"FluxGuidance\"\r\n          }\r\n        },\r\n        \"27\": {\r\n          \"inputs\": {\r\n            \"width\": 1024,\r\n            \"height\": 1024,\r\n            \"batch_size\": 1\r\n          },\r\n          \"class_type\": \"EmptySD3LatentImage\",\r\n          \"_meta\": {\r\n            \"title\": \"EmptySD3LatentImage\"\r\n          }\r\n        },\r\n        \"30\": {\r\n          \"inputs\": {\r\n            \"max_shift\": 1.15,\r\n            \"base_shift\": 0.5,\r\n            \"width\": 1024,\r\n            \"height\": 1024,\r\n            \"model\": [\"12\", 0]\r\n          },\r\n          \"class_type\": \"ModelSamplingFlux\",\r\n          \"_meta\": {\r\n            \"title\": \"ModelSamplingFlux\"\r\n          }\r\n        }\r\n      }\r\n\r\n      // Submit workflow to ComfyUI\r\n      const response = await fetch('/api/comfyui/prompt', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ prompt: baseWorkflow })\r\n      });\r\n\r\n      const data = await response.json();\r\n      const promptId = data.prompt_id;\r\n\r\n      // Poll for completion\r\n      let completed = false;\r\n      while (!completed) {\r\n        const statusResponse = await fetch(`/api/comfyui/history/${promptId}`);\r\n        const statusData = await statusResponse.json();\r\n        \r\n        if (statusData[promptId]?.outputs?.[9]?.images?.[0]) {\r\n          const imageData = statusData[promptId].outputs[9].images[0];\r\n          setImage(`/api/comfyui/view?filename=${imageData.filename}&subfolder=${imageData.subfolder}`);\r\n          completed = true;\r\n        } else {\r\n          await new Promise(resolve => setTimeout(resolve, 1000)); // Wait 1 second before next poll\r\n        }\r\n      }\r\n    } catch (error) {\r\n      setError(error.message)\r\n    } finally {\r\n      setIsGenerating(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-br from-[#0F172A] to-[#1E293B] text-white p-4 sm:p-8\">\r\n      {/* Header with Logo */}\r\n      <header className=\"flex items-center space-x-3 sm:space-x-4 mb-8 sm:mb-12\">\r\n        <Image\r\n          src=\"/favicon.png\"\r\n          alt=\"Eden AI Logo\"\r\n          width={32}\r\n          height={32}\r\n          className=\"rounded-lg sm:w-10 sm:h-10\"\r\n        />\r\n        <h1 className=\"text-xl sm:text-2xl font-bold bg-gradient-to-r from-[#187ADB] to-[#4CAF50] bg-clip-text text-transparent\">\r\n          Eden AI Image Generator\r\n        </h1>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-4xl mx-auto space-y-6 sm:space-y-8\">\r\n        {/* Prompt Input Section */}\r\n        <div className=\"bg-[#1E293B]/50 p-4 sm:p-6 rounded-xl backdrop-blur-sm border border-[#187ADB]/20\">\r\n          <div className=\"flex flex-col space-y-3 sm:space-y-4\">\r\n            <label htmlFor=\"prompt\" className=\"text-base sm:text-lg font-medium text-[#187ADB]\">\r\n              Enter your prompt\r\n            </label>\r\n            <textarea\r\n              id=\"prompt\"\r\n              className=\"w-full h-24 sm:h-32 px-3 sm:px-4 py-2 sm:py-3 bg-[#0F172A]/50 rounded-lg border border-[#187ADB]/30 focus:border-[#187ADB] focus:ring-2 focus:ring-[#187ADB] focus:outline-none text-white placeholder-gray-400 resize-none text-sm sm:text-base\"\r\n              placeholder=\"Describe the image you want to generate...\"\r\n              value={prompt}\r\n              onChange={(e) => setPrompt(e.target.value)}\r\n            />\r\n            <button \r\n              onClick={handleSubmit} \r\n              disabled={isGenerating}\r\n              className=\"self-end px-4 sm:px-6 py-2 bg-gradient-to-r from-[#187ADB] to-[#4CAF50] rounded-lg font-medium hover:from-[#1565C0] hover:to-[#388E3C] transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#187ADB] focus:ring-offset-2 focus:ring-offset-[#0F172A] disabled:opacity-70 disabled:cursor-not-allowed flex items-center space-x-2 text-sm sm:text-base\"\r\n            >\r\n              {isGenerating ? (\r\n                <>\r\n                  <svg className=\"animate-spin h-4 w-4 sm:h-5 sm:w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                  <span>Generating...</span>\r\n                </>\r\n              ) : (\r\n                'Generate Image'\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Results Container */}\r\n        <div className=\"bg-[#1E293B]/50 p-4 sm:p-6 rounded-xl backdrop-blur-sm border border-[#187ADB]/20 min-h-[300px] sm:min-h-[400px] flex items-center justify-center\">\r\n          {isGenerating ? (\r\n            <div className=\"text-center\">\r\n              <div className=\"flex justify-center mb-3 sm:mb-4\">\r\n                <svg className=\"animate-spin h-6 w-6 sm:h-8 sm:w-8 text-[#187ADB]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                </svg>\r\n              </div>\r\n              <p className=\"text-base sm:text-lg text-[#187ADB] font-medium\">Generating your image...</p>\r\n              <p className=\"text-xs sm:text-sm text-gray-400 mt-1 sm:mt-2\">This may take a few moments</p>\r\n            </div>\r\n          ) : image ? (\r\n            <img src={image} alt=\"Generated image\" className=\"w-full h-auto rounded-lg max-h-[500px] object-contain\" />\r\n          ) : (\r\n            <div className=\"text-center text-gray-400 px-4\">\r\n              <p className=\"text-base sm:text-lg\">Your generated image will appear here</p>\r\n              <p className=\"text-xs sm:text-sm mt-1 sm:mt-2\">Enter a prompt and click generate to create your image</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Page"],"names":[],"mappings":"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"}},
    {"offset": {"line": 502, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}