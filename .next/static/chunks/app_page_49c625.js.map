{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SED/Desktop/eden-image/app/page.js"],"sourcesContent":["'use client'\nimport React from 'react'\nimport Image from 'next/image'\nimport { useState } from 'react'\n\nconst Page = () => {\n  const [prompt, setPrompt] = useState('')\n  const [image, setImage] = useState(null)\n  const [isGenerating, setIsGenerating] = useState(false)\n  const [error, setError] = useState(null)\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setIsGenerating(true)\n    setError(null)\n    \n    try {\n      // Load the base workflow\n      const baseWorkflow = {\n        \"6\": {\n          \"inputs\": {\n            \"text\": prompt,\n            \"clip\": [\"11\", 0]\n          },\n          \"class_type\": \"CLIPTextEncode\",\n          \"_meta\": {\n            \"title\": \"CLIP Text Encode (Positive Prompt)\"\n          }\n        },\n        \"8\": {\n          \"inputs\": {\n            \"samples\": [\"13\", 0],\n            \"vae\": [\"10\", 0]\n          },\n          \"class_type\": \"VAEDecode\",\n          \"_meta\": {\n            \"title\": \"VAE Decode\"\n          }\n        },\n        \"9\": {\n          \"inputs\": {\n            \"filename_prefix\": \"ComfyUI\",\n            \"images\": [\"8\", 0]\n          },\n          \"class_type\": \"SaveImage\",\n          \"_meta\": {\n            \"title\": \"Save Image\"\n          }\n        },\n        \"10\": {\n          \"inputs\": {\n            \"vae_name\": \"ae.safetensors\"\n          },\n          \"class_type\": \"VAELoader\",\n          \"_meta\": {\n            \"title\": \"Load VAE\"\n          }\n        },\n        \"11\": {\n          \"inputs\": {\n            \"clip_name1\": \"t5xxl_fp8_e4m3fn.safetensors\",\n            \"clip_name2\": \"clip_l.safetensors\",\n            \"type\": \"flux\",\n            \"device\": \"default\"\n          },\n          \"class_type\": \"DualCLIPLoader\",\n          \"_meta\": {\n            \"title\": \"DualCLIPLoader\"\n          }\n        },\n        \"12\": {\n          \"inputs\": {\n            \"unet_name\": \"flux1-dev.safetensors\",\n            \"weight_dtype\": \"default\"\n          },\n          \"class_type\": \"UNETLoader\",\n          \"_meta\": {\n            \"title\": \"Load Diffusion Model\"\n          }\n        },\n        \"13\": {\n          \"inputs\": {\n            \"noise\": [\"25\", 0],\n            \"guider\": [\"22\", 0],\n            \"sampler\": [\"16\", 0],\n            \"sigmas\": [\"17\", 0],\n            \"latent_image\": [\"27\", 0]\n          },\n          \"class_type\": \"SamplerCustomAdvanced\",\n          \"_meta\": {\n            \"title\": \"SamplerCustomAdvanced\"\n          }\n        },\n        \"16\": {\n          \"inputs\": {\n            \"sampler_name\": \"euler\"\n          },\n          \"class_type\": \"KSamplerSelect\",\n          \"_meta\": {\n            \"title\": \"KSamplerSelect\"\n          }\n        },\n        \"17\": {\n          \"inputs\": {\n            \"scheduler\": \"simple\",\n            \"steps\": 20,\n            \"denoise\": 1,\n            \"model\": [\"30\", 0]\n          },\n          \"class_type\": \"BasicScheduler\",\n          \"_meta\": {\n            \"title\": \"BasicScheduler\"\n          }\n        },\n        \"22\": {\n          \"inputs\": {\n            \"model\": [\"30\", 0],\n            \"conditioning\": [\"26\", 0]\n          },\n          \"class_type\": \"BasicGuider\",\n          \"_meta\": {\n            \"title\": \"BasicGuider\"\n          }\n        },\n        \"25\": {\n          \"inputs\": {\n            \"noise_seed\": Math.floor(Math.random() * 1000000)\n          },\n          \"class_type\": \"RandomNoise\",\n          \"_meta\": {\n            \"title\": \"RandomNoise\"\n          }\n        },\n        \"26\": {\n          \"inputs\": {\n            \"guidance\": 3.5,\n            \"conditioning\": [\"6\", 0]\n          },\n          \"class_type\": \"FluxGuidance\",\n          \"_meta\": {\n            \"title\": \"FluxGuidance\"\n          }\n        },\n        \"27\": {\n          \"inputs\": {\n            \"width\": 1024,\n            \"height\": 1024,\n            \"batch_size\": 1\n          },\n          \"class_type\": \"EmptySD3LatentImage\",\n          \"_meta\": {\n            \"title\": \"EmptySD3LatentImage\"\n          }\n        },\n        \"30\": {\n          \"inputs\": {\n            \"max_shift\": 1.15,\n            \"base_shift\": 0.5,\n            \"width\": 1024,\n            \"height\": 1024,\n            \"model\": [\"12\", 0]\n          },\n          \"class_type\": \"ModelSamplingFlux\",\n          \"_meta\": {\n            \"title\": \"ModelSamplingFlux\"\n          }\n        }\n      }\n\n      // Submit workflow to ComfyUI\n      const response = await fetch('/api/comfyui/prompt', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ prompt: baseWorkflow })\n      });\n\n      const data = await response.json();\n      const promptId = data.prompt_id;\n\n      // Poll for completion\n      let completed = false;\n      while (!completed) {\n        const statusResponse = await fetch(`/api/comfyui/history/${promptId}`);\n        const statusData = await statusResponse.json();\n        \n        if (statusData[promptId]?.outputs?.[9]?.images?.[0]) {\n          const imageData = statusData[promptId].outputs[9].images[0];\n          setImage(`/api/comfyui/view?filename=${imageData.filename}&subfolder=${imageData.subfolder}`);\n          completed = true;\n        } else {\n          await new Promise(resolve => setTimeout(resolve, 1000)); // Wait 1 second before next poll\n        }\n      }\n    } catch (error) {\n      setError(error.message)\n    } finally {\n      setIsGenerating(false)\n    }\n  }\n\n  return (\n    <main className=\"min-h-screen bg-gradient-to-br from-[#0F172A] to-[#1E293B] text-white p-4 sm:p-8\">\n      {/* Header with Logo */}\n      <header className=\"flex items-center space-x-3 sm:space-x-4 mb-8 sm:mb-12\">\n        <Image\n          src=\"/favicon.png\"\n          alt=\"Eden AI Logo\"\n          width={32}\n          height={32}\n          className=\"rounded-lg sm:w-10 sm:h-10\"\n        />\n        <h1 className=\"text-xl sm:text-2xl font-bold bg-gradient-to-r from-[#187ADB] to-[#4CAF50] bg-clip-text text-transparent\">\n          Eden AI Image Generator\n        </h1>\n      </header>\n\n      {/* Main Content */}\n      <div className=\"max-w-4xl mx-auto space-y-6 sm:space-y-8\">\n        {/* Prompt Input Section */}\n        <div className=\"bg-[#1E293B]/50 p-4 sm:p-6 rounded-xl backdrop-blur-sm border border-[#187ADB]/20\">\n          <div className=\"flex flex-col space-y-3 sm:space-y-4\">\n            <label htmlFor=\"prompt\" className=\"text-base sm:text-lg font-medium text-[#187ADB]\">\n              Enter your prompt\n            </label>\n            <textarea\n              id=\"prompt\"\n              className=\"w-full h-24 sm:h-32 px-3 sm:px-4 py-2 sm:py-3 bg-[#0F172A]/50 rounded-lg border border-[#187ADB]/30 focus:border-[#187ADB] focus:ring-2 focus:ring-[#187ADB] focus:outline-none text-white placeholder-gray-400 resize-none text-sm sm:text-base\"\n              placeholder=\"Describe the image you want to generate...\"\n              value={prompt}\n              onChange={(e) => setPrompt(e.target.value)}\n            />\n            <button \n              onClick={handleSubmit} \n              disabled={isGenerating}\n              className=\"self-end px-4 sm:px-6 py-2 bg-gradient-to-r from-[#187ADB] to-[#4CAF50] rounded-lg font-medium hover:from-[#1565C0] hover:to-[#388E3C] transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#187ADB] focus:ring-offset-2 focus:ring-offset-[#0F172A] disabled:opacity-70 disabled:cursor-not-allowed flex items-center space-x-2 text-sm sm:text-base\"\n            >\n              {isGenerating ? (\n                <>\n                  <svg className=\"animate-spin h-4 w-4 sm:h-5 sm:w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  <span>Generating...</span>\n                </>\n              ) : (\n                'Generate Image'\n              )}\n            </button>\n          </div>\n        </div>\n\n        {/* Results Container */}\n        <div className=\"bg-[#1E293B]/50 p-4 sm:p-6 rounded-xl backdrop-blur-sm border border-[#187ADB]/20 min-h-[300px] sm:min-h-[400px] flex items-center justify-center\">\n          {isGenerating ? (\n            <div className=\"text-center\">\n              <div className=\"flex justify-center mb-3 sm:mb-4\">\n                <svg className=\"animate-spin h-6 w-6 sm:h-8 sm:w-8 text-[#187ADB]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n              </div>\n              <p className=\"text-base sm:text-lg text-[#187ADB] font-medium\">Generating your image...</p>\n              <p className=\"text-xs sm:text-sm text-gray-400 mt-1 sm:mt-2\">This may take a few moments</p>\n            </div>\n          ) : image ? (\n            <img src={image} alt=\"Generated image\" className=\"w-full h-auto rounded-lg max-h-[500px] object-contain\" />\n          ) : (\n            <div className=\"text-center text-gray-400 px-4\">\n              <p className=\"text-base sm:text-lg\">Your generated image will appear here</p>\n              <p className=\"text-xs sm:text-sm mt-1 sm:mt-2\">Enter a prompt and click generate to create your image</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </main>\n  )\n}\n\nexport default Page"],"names":[],"mappings":"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"}},
    {"offset": {"line": 502, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}